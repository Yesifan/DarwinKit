# WEB 工具

DarwinKit 还提供了一个 WEB 网页工具，以便于用户更方便地使用 DarwinKit。网页工具内置于 DarwinKit 中，用户可以通过 `darkit start` 命令启动 WEB 服务。

## 使用
运行 `darkit start` 命令后，会在本地启动一个 WEB 服务，用户可以通过浏览器访问 `http://localhost:8000` 来使用 WEB 工具。打开网页后会看到如下界面：

网页工具主要提供了以下功能：
1. 训练模型
2. 使用已训练的模型进行预测
3. 查看模型的训练日志和参数

通过点击网页顶部导航栏中的工具箱按钮，即可进入工具箱页面，看到相关功能的按钮。

### 训练模型
用户可以直接在网页工具中训练模型，本工具已经内置了一些模型，数据和标记器，用户只需要在网页上选择相应的模型，数据和标记器，并且模型的超参数也可以在网页上设置。比如 Learning Rate，Epochs 等。

SpikeGPT 模型的训练界面如下：
![SpikeGPT train](/static/docs/train.jpg)

在设置完模型的参数后，点击页面右下方的 `训练` 按钮，即可开始训练模型。然后页面会跳转到训练进度页面，用户可以查看训练过程中的进度信息。

训练完成后，模型会保存（如果用户在设置选项时选择了保存模型）到 DarwinKit 的模型目录（默认为 `~/.cache/DarwinKit`, 可以通过修改 `DSPIKE_HOME` 环境变量来修改）中。然后用户就可以在预测页面中使用该模型进行预测，或者在可视化页面中查看该模型的训练日志和参数。

#### 恢复训练
如果用户需要基于之前已训练模型的权重进行再训练，只需要在训练页面中的 `Resume` 选择框中选择已经训练好的模型，然后点击 `训练` 按钮，即可进行恢复训练。

### 预测模型
用户可以使用已经训练好的模型进行预测。在预测页面中，用户可以选择已经训练好的模型，然后输入文本，点击预测按钮，即可得到模型的预测结果。

所有已经训练好的模型都会显示在 `模型名称` 下拉框中，用户可以选择一个模型进行预测。模型预测界面如下图所示:
![model predict](/static/docs/predict.jpg)

开始预测后，模型的输出会实时的显示到页面上。

### 模型分叉
模型分叉功能为开发者提供了一种全新的模型定制方式，通过 `Fork` 操作，您可以基于现有模型创建一个分叉版本，并对其进行编辑, 管理和训练。使用者选择一个现有模型进行 `Fork`，即创建一个全新的分叉模型，确保所有后续操作都独立于原始模型，保护原始模型的完整性和安全性。

**使用指南**
1. 在训练模型界面, 选择模型并设置相关参数. 点击 Fokr 按钮, 在弹出框中输入分叉模型的名称. 点击弹出框中 Create fork, 即可创建分叉模型.
  ![Fork Step 1](/static/docs/fork/step1.png)
2. 创建好分叉模型后, 即会自动跳转到模型编辑页面, 编辑页面的介绍如下.
  ![Fork Step 2](/static/docs/fork/step2.png)
3. 编辑完成后点击侧边栏的 fork 进入分叉模型的管理页面, 在 Forked Model下拉框中可以选择分叉模型. 选择模型后可以点击 `查看&编辑` 按钮进入分叉模型的编辑页面, 也可以点击 `训练` 按钮使用该模型进行训练.
  ![Fork Step 3](/static/docs/fork/step3.png)

### 模型可视化
用户可以查看已经训练好的模型的训练日志和参数。在可视化页面中，用户可以选择已经训练好的模型（可以选择多个模型进行数据对比），点击查看按钮，即可查看该参数的可视化图表。

示意图如下：
![model visual](/static/docs/visual.jpg)

如果模型在训练中，页面会实时更新数据。